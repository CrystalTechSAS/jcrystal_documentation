# Setup on Angular

## Setup project

On your Angular project add an AppConfiguration class on `src/app/utils/app-configuration.ts`:

```typescript
export class AppConfiguration {
  static DEBUG = true;
}
```

On the _app.module.ts_ file add `HttpClientModule` to your imports:

```typescript
import { HttpClientModule } from '@angular/common/http';
...
@NgModule({
	...
	imports: [
		...
		HttpClientModule,
	],
	...
})
export class AppModule { }
```

Include the following dependencies using npm:

```
npm install moment --save
npm install sweetalert2 --s ave
```
If you use a different package manager, please check how to add these dependencies on these websites: 
- [moment.js](https://momentjs.com/)
- [sweetalert2](https://github.com/sweetalert2/sweetalert2)

## Add jCrystal generated code
The generated code of jCrystal must be added in the folder: `src/app` of your Angular application. 

## Consuming web services
Call your the web services generated by jCrystal in the following way:

```typescript
...
import { ManagerHello } from './jcrystal/services/ManagerHello';
import { HttpClient } from '@angular/common/http';
export class MyComponent {
	constructor(public http: HttpClient) { }
...
    ManagerHello.ping(this, resp => {
        //On success
    }, error => {
        //On error
    });
...
}
```

Take into account that on your component constructor you must add `public http : HttpClient`. Also remember to import the class of your web service in your component

jCrystal can manage the error handling by showing an alert with the error message if a web service returns an error. Therefore, if you want jCrystal to manage errors, you don't have to implement the error callback:


```typescript
...
import { HttpClient } from '@angular/common/http';
export class MyComponent {
	constructor(public http: HttpClient) { }
...
    ManagerHello.ping(this, resp => {
        //On success
    });
}
```

How do you know which services you can access and what are their names? There are a couple of ways:

- Check the backend or talk with your backend developer. 

    The structure and names of the web services on the backend and the frontend are the same. 

    This means that if on the backend there's web service named `getUser` on the class `ManagerUser.java` and this service is annotated to be used by your client, then on your generated code you must have a class named `ManagerUser.ts` with a static method named `getUser`.

    Learn more about coding web services on the backend and annotating them to use clients [here](../../server/clients/general.md).

- Check the generated code. 
    
    On the generated code you can find the web services that you can use; specifically, on the folder `jcrystal/services/` inside classes with `Manager` as a prefix, each of the static methods of these classes are webservices that you can consume.

    Learn more about the anatomy of the generated code [here](anatomy.md).



