# Android

## Setup

On your Android project, include the following changes on your root build.gradle:
```gradle
allprojects {
    repositories {
		....
		maven { url 'https://jitpack.io' }
	}
}
```

And the following changes on the module gradle:
```gradle
android {
  ...
  // Configure your module to use Java 8 language features
  compileOptions {
    sourceCompatibility JavaVersion.VERSION_1_8
    targetCompatibility JavaVersion.VERSION_1_8
  }
}
dependencies {
    ...
    implementation 'com.github.CrystalTechSAS:jCrystalAndroidLib:b1499a6f2b'
}
```

## Adding the jCrystal generated code to your project
The generated code of jCrystal must be added in the folder: `app/src/main/java` of your Android application. 

## Consuming Services
Call your the web services generated by jCrystal in the following way:

```java
import jcrystal.mobile.net.controllers.ManagerHello;
...
    ManagerHello.ping(this, resp -> {
      	//On success
    }, error -> {
		//On error
	});

```

Where `this` can be an `Activity` or `Fragment`.

If you have an activity that calls multiple web services and the error management of those web services is the same (for example, showing a Toast), you can implement `OnErrorListener` on your activity so to avoid rewriting the error callback: 

```java
import jcrystal.mobile.net.controllers.ManagerHello;
import jcrystal.mobile.net.utils.OnErrorListener;
import jcrystal.mobile.net.utils.RequestError;

public class MyActivity extends Activity implements OnErrorListener {
...
    ManagerHello.ping(this, resp -> {
      	//On success
    });

	...

	public void onError(RequestError error) {
		//On error
    }
	...
}
```

## Additional Utilities

- Create table and grid views easily
- Layout connection utilites